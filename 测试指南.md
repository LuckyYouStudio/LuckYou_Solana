# Solanaé¡¹ç›®æµ‹è¯•å®Œæ•´æŒ‡å—

## ä¸€ã€ç¯å¢ƒå®‰è£…

### 1. å®‰è£…Rust
```bash
# Windowsç”¨æˆ·
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# éªŒè¯å®‰è£…
rustc --version
cargo --version
```

### 2. å®‰è£…Solana CLI
```bash
# Windowsç”¨æˆ·ä¸‹è½½å®‰è£…åŒ…
curl -L https://github.com/anza-xyz/agave/releases/latest/download/solana-install-init-x86_64-pc-windows-msvc.exe -o solana-install.exe
./solana-install.exe stable

# Linux/Macç”¨æˆ·
sh -c "$(curl -sSfL https://release.solana.com/stable/install)"

# éªŒè¯å®‰è£…
solana --version
```

### 3. å®‰è£…Anchor
```bash
# ä½¿ç”¨cargoå®‰è£…
cargo install --git https://github.com/coral-xyz/anchor anchor-cli --locked

# æˆ–ä½¿ç”¨npmï¼ˆå¯èƒ½ä¸æ”¯æŒæ‰€æœ‰å¹³å°ï¼‰
npm install -g @coral-xyz/anchor-cli

# éªŒè¯å®‰è£…
anchor --version
```

### 4. å®‰è£…Nodeä¾èµ–
```bash
# åœ¨é¡¹ç›®ç›®å½•ä¸‹
npm install
```

## äºŒã€é…ç½®Solana

### 1. é…ç½®ç½‘ç»œ
```bash
# è®¾ç½®ä¸ºæœ¬åœ°ç½‘ç»œï¼ˆç”¨äºæµ‹è¯•ï¼‰
solana config set --url localhost

# æˆ–è®¾ç½®ä¸ºå¼€å‘ç½‘
solana config set --url devnet

# æŸ¥çœ‹å½“å‰é…ç½®
solana config get
```

### 2. åˆ›å»ºé’±åŒ…
```bash
# ç”Ÿæˆæ–°çš„å¯†é’¥å¯¹
solana-keygen new

# æŸ¥çœ‹é’±åŒ…åœ°å€
solana address

# æŸ¥çœ‹ä½™é¢
solana balance
```

### 3. è·å–æµ‹è¯•ä»£å¸
```bash
# åœ¨devnetä¸Šè·å–æµ‹è¯•SOL
solana airdrop 2

# åœ¨æœ¬åœ°ç½‘ç»œéœ€è¦å…ˆå¯åŠ¨éªŒè¯å™¨
solana-test-validator
```

## ä¸‰ã€è¿è¡Œæµ‹è¯•

### æ–¹æ³•1ï¼šä½¿ç”¨Anchoræµ‹è¯•ï¼ˆæ¨èï¼‰

```bash
# å¯åŠ¨æœ¬åœ°éªŒè¯å™¨å¹¶è¿è¡Œæµ‹è¯•
anchor test

# ä»…æ„å»ºç¨‹åº
anchor build

# éƒ¨ç½²åˆ°æœ¬åœ°ç½‘ç»œ
anchor deploy

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
anchor test --skip-build --skip-deploy
```

### æ–¹æ³•2ï¼šåˆ†æ­¥æµ‹è¯•

```bash
# 1. å¯åŠ¨æœ¬åœ°SolanaèŠ‚ç‚¹
solana-test-validator

# 2. åœ¨æ–°ç»ˆç«¯æ„å»ºç¨‹åº
anchor build

# 3. éƒ¨ç½²ç¨‹åº
anchor deploy

# 4. è¿è¡Œæµ‹è¯•
npm test
```

### æ–¹æ³•3ï¼šä½¿ç”¨Cargoæµ‹è¯•Rustä»£ç 

```bash
# æµ‹è¯•Rustç¨‹åºé€»è¾‘
cargo test

# ä½¿ç”¨BPFç›®æ ‡æ„å»º
cargo build-bpf
```

## å››ã€æµ‹è¯•è„šæœ¬è¯´æ˜

### æµ‹è¯•æ–‡ä»¶ä½ç½®
```
tests/
â””â”€â”€ luck_snake.ts  # ä¸»æµ‹è¯•æ–‡ä»¶
```

### æµ‹è¯•å†…å®¹
1. **åˆå§‹åŒ–æµ‹è¯•** - è®¾ç½®ç¨‹åºç®¡ç†å‘˜å’Œè´¢åº“
2. **ç”Ÿæˆæ•°å­—æµ‹è¯•** - ç”¨æˆ·ä»˜è´¹ç”Ÿæˆéšæœºæ•°
3. **å”¯ä¸€æ€§æµ‹è¯•** - éªŒè¯æ•°å­—ä¸é‡å¤
4. **æå–èµ„é‡‘æµ‹è¯•** - ç®¡ç†å‘˜æå–åŠŸèƒ½
5. **æƒé™æµ‹è¯•** - éªŒè¯æƒé™æ§åˆ¶

## äº”ã€å¸¸è§é—®é¢˜è§£å†³

### 1. "anchor: command not found"
```bash
# æ·»åŠ åˆ°PATH
export PATH="$HOME/.cargo/bin:$PATH"

# Windowsç”¨æˆ·
set PATH=%USERPROFILE%\.cargo\bin;%PATH%
```

### 2. "insufficient funds"é”™è¯¯
```bash
# è·å–æ›´å¤šæµ‹è¯•ä»£å¸
solana airdrop 5
```

### 3. è¿æ¥é”™è¯¯
```bash
# ç¡®ä¿æœ¬åœ°éªŒè¯å™¨è¿è¡Œä¸­
solana-test-validator

# æ£€æŸ¥RPCè¿æ¥
solana cluster-version
```

### 4. æ„å»ºé”™è¯¯
```bash
# æ¸…ç†å¹¶é‡æ–°æ„å»º
anchor clean
anchor build
```

## å…­ã€æµ‹è¯•å‘½ä»¤é€ŸæŸ¥

```bash
# å®Œæ•´æµ‹è¯•æµç¨‹
anchor test

# ä»…è¿è¡ŒJavaScriptæµ‹è¯•
npm test

# æŸ¥çœ‹ç¨‹åºæ—¥å¿—
solana logs

# æŸ¥çœ‹è´¦æˆ·ä¿¡æ¯
solana account <ADDRESS>

# æŸ¥çœ‹ç¨‹åºä¿¡æ¯
solana program show <PROGRAM_ID>
```

## ä¸ƒã€æµ‹è¯•æœ€ä½³å®è·µ

1. **éš”ç¦»æµ‹è¯•ç¯å¢ƒ**
   - æ¯ä¸ªæµ‹è¯•ä½¿ç”¨æ–°çš„è´¦æˆ·
   - é¿å…æµ‹è¯•é—´ç›¸äº’å½±å“

2. **å®Œæ•´çš„æµ‹è¯•è¦†ç›–**
   - æ­£å¸¸æµç¨‹æµ‹è¯•
   - å¼‚å¸¸æƒ…å†µæµ‹è¯•
   - è¾¹ç•Œæ¡ä»¶æµ‹è¯•

3. **æ—¥å¿—å’Œè°ƒè¯•**
   ```rust
   // åœ¨Rustä»£ç ä¸­æ·»åŠ æ—¥å¿—
   msg!("Debug info: {}", value);
   ```

4. **ä½¿ç”¨æ–­è¨€éªŒè¯**
   ```typescript
   // åœ¨æµ‹è¯•ä¸­éªŒè¯ç»“æœ
   expect(result).to.equal(expected);
   ```

## å…«ã€å¿«é€Ÿå¼€å§‹è„šæœ¬

åˆ›å»º `test.sh` (Linux/Mac) æˆ– `test.bat` (Windows)ï¼š

### Linux/Macç‰ˆæœ¬ (test.sh)
```bash
#!/bin/bash
echo "Starting Solana test validator..."
solana-test-validator &
VALIDATOR_PID=$!

sleep 5

echo "Running Anchor tests..."
anchor test --skip-local-validator

kill $VALIDATOR_PID
echo "Tests completed!"
```

### Windowsç‰ˆæœ¬ (test.bat)
```batch
@echo off
echo Starting Solana test validator...
start /B solana-test-validator

timeout /t 5

echo Running Anchor tests...
anchor test --skip-local-validator

echo Tests completed!
taskkill /F /IM solana-test-validator.exe
```

## ä¹ã€è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹äº¤æ˜“è¯¦æƒ…
```bash
# è·å–äº¤æ˜“ç­¾åå
solana confirm -v <TRANSACTION_SIGNATURE>
```

### 2. ç›‘æ§ç¨‹åºæ—¥å¿—
```bash
# å®æ—¶æŸ¥çœ‹ç¨‹åºè¾“å‡º
solana logs | grep "Program H3nY6p"
```

### 3. ä½¿ç”¨Anchorçš„IDL
```bash
# æŸ¥çœ‹ç¨‹åºæ¥å£
anchor idl fetch <PROGRAM_ID>
```

## åã€éƒ¨ç½²åˆ°ä¸»ç½‘

```bash
# 1. åˆ‡æ¢åˆ°ä¸»ç½‘
solana config set --url mainnet-beta

# 2. ç¡®ä¿æœ‰è¶³å¤Ÿçš„SOL
solana balance

# 3. éƒ¨ç½²ç¨‹åº
anchor deploy --provider.cluster mainnet

# 4. éªŒè¯éƒ¨ç½²
solana program show <PROGRAM_ID>
```

---

ğŸ’¡ **æç¤º**ï¼šå»ºè®®å…ˆåœ¨æœ¬åœ°å’Œdevnetå……åˆ†æµ‹è¯•åå†éƒ¨ç½²åˆ°ä¸»ç½‘ï¼